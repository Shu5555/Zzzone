# Zzzone 睡眠管理アプリ 開発ロードマップ

## はじめに

このロードマップは、Zzzone睡眠管理アプリの今後の開発方向性を示すものです。ユーザー体験の向上、機能の拡充、そしてシステムの安定性・セキュリティ強化を目的としています。

## フェーズ1: 安定化と基盤強化 (短期目標)

### 1.1 既存機能の安定化とバグ修正
*   **目的**: 現在の機能が安定して動作し、ユーザーが安心して利用できる基盤を確立する。
*   **詳細**:
    *   ユーザーからの報告や内部テストに基づく既知のバグの修正。
    *   各機能（睡眠記録、AI分析、ランキング、Web版計測持続）の動作安定性向上。
    *   異なるデバイスやブラウザ環境での互換性テストと調整。

### 1.2 セキュリティのさらなる強化
*   **目的**: ユーザーデータとAPIキーの保護を強化し、潜在的なリスクを低減する。
*   **詳細**:
    *   **APIキーのサーバーサイド管理**: 現在クライアントサイドで読み込んでいるGemini APIキーを、Netlify Functionsなどのサーバーレス関数を介して安全に管理する仕組みを導入。
    *   Supabaseとの通信におけるセキュリティプロトコルの見直しと強化。

### 1.3 テストカバレッジの向上
*   **目的**: コードの品質を保証し、将来的な変更によるデグレードを防ぐ。
*   **詳細**:
    *   主要なビジネスロジック（睡眠時間計算、AI分析プロンプト生成など）に対する単体テストの拡充。
    *   UIコンポーネントおよび主要なユーザーフローに対するウィジェットテスト/統合テストの導入。

## フェーズ2: 機能拡張とユーザー体験向上 (中期目標)

### 2.1 UI/UXの改善
*   **目的**: アプリの使いやすさと視覚的な魅力を向上させ、ユーザーエンゲージメントを高める。
*   **詳細**:
    *   ユーザーフィードバックに基づくナビゲーション、レイアウト、カラースキームの最適化。
    *   グラフ表示のインタラクティブ性向上（ズーム、期間選択の柔軟化など）。
    *   アニメーションやトランジションの追加によるスムーズな操作感の実現。

### 2.2 睡眠記録の詳細化とカスタマイズ
*   **目的**: ユーザーがより詳細な睡眠データを記録・分析できるようにする。
*   **詳細**:
    *   睡眠ステージ（深い睡眠、レム睡眠など）の手動または連携による記録機能の追加。
    *   いびき、歯ぎしり、寝言などの追加記録オプション。
    *   起床時の気分、夢の内容などの自由記述フィールドの拡充。
    *   記録項目の表示/非表示をユーザーがカスタマイズできる機能。

### 2.3 AI分析の強化
*   **目的**: Gemini AIによる睡眠分析の精度と有用性を高める。
*   **詳細**:
    *   よりパーソナライズされた分析結果の提供（過去の記録傾向に基づいたアドバイス）。
    *   特定の睡眠パターン（例: 不規則な睡眠、週末の寝だめ）に対する深掘り分析。
    *   ユーザーがAIに質問できるQ&A機能の検討。
    *   分析結果の履歴保存と推移の可視化。

### 2.4 ランキング機能の拡張
*   **目的**: ユーザー間の交流を促進し、モチベーションを維持する。
*   **詳細**:
    *   期間別ランキング（週間、月間）の追加。
    *   フレンド機能の実装とフレンド間ランキング。
    *   アチーブメント（実績）システムの導入。

### 2.5 通知機能の実装
*   **目的**: ユーザーの睡眠習慣をサポートし、アプリの利用を促進する。
*   **詳細**:
    *   就寝時刻リマインダー（設定した目標入眠時刻に合わせた通知）。
    *   起床アラーム機能。
    *   睡眠記録忘れ防止のリマインダー。

## フェーズ3: 新機能とプラットフォーム展開 (長期目標)

### 3.1 データエクスポート機能
*   **目的**: ユーザーが自身の睡眠データを外部サービスや分析ツールで利用できるようにする。
*   **詳細**:
    *   CSV、JSON形式での睡眠データエクスポート機能。
    *   Google FitやApple HealthKitなど、他の健康管理アプリとの連携検討。

### 3.2 iOS版の正式リリース
*   **目的**: より多くのユーザーにアプリを提供し、市場を拡大する。
*   **詳細**:
    *   iOS固有のUI/UX調整とテスト。
    *   App Storeへの申請と公開。

### 3.3 デスクトップ版の改善
*   **目的**: Windows/macOS/Linuxデスクトップユーザーへの体験向上。
*   **詳細**:
    *   デスクトップ環境に最適化されたUI/UXの検討と実装。
    *   バックグラウンドでの計測持続機能の強化。

### 3.4 新機能の検討・実装
*   **目的**: ユーザーニーズや最新技術トレンドに基づいた革新的な機能を追加する。
*   **詳細**:
    *   スマートデバイス（スマートウォッチ、スマートリングなど）との連携。
    *   睡眠環境（温度、湿度、騒音など）の記録と分析。
    *   瞑想やリラックスを促すコンテンツの提供。

## その他

*   **ドキュメンテーション**: 開発者向けドキュメントの整備、API仕様書の作成。
*   **技術的負債の解消**: コードのリファクタリング、依存関係のアップデート、パフォーマンス最適化。
*   **コミュニティ形成**: ユーザーコミュニティの構築と運営。

---
